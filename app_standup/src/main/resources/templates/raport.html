<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>Raport Managerial</title>
    <link rel="stylesheet" th:href="@{/style.css}"/>
</head>
<body>
<div class="container">
    <div class='topline'>
        <h1 style="margin:0;">Raport È™i Statistici</h1>
        <div style="text-align: right;">
            <div><a class='link' th:href='@{/spectacole}'>Ãnapoi</a></div>
        </div>
    </div>

    <div class="card" style="background: #eef2f6;">
        <h3 style="margin-top:0;">Filtrare PerioadÄƒ (VÃ¢nzÄƒri)</h3>
        <form method="GET" action="/raport" class="form-inline">
            <label>De la: <input type="date" name="startDate" th:value="${startDate}"></label>
            <label>PÃ¢nÄƒ la: <input type="date" name="endDate" th:value="${endDate}"></label>
            <button class="btn">ActualizeazÄƒ Raport</button>
        </form>
    </div>

    <div style="display: flex; flex-wrap: wrap; gap: 20px;">

        <div class="card" style="flex: 1 1 45%;">
            <h3>ğŸ’° VÃ¢nzÄƒri per Spectacol (Filtrat)</h3>
            <table class="table">
                <thead><tr><th>Titlu</th><th>Bilete</th><th>Total</th></tr></thead>
                <tbody>
                <tr th:each="v : ${listaVanzari}">
                    <td th:text="${v.titlu}"></td>
                    <td th:text="${v.nr}"></td>
                    <td th:text="${v.total} + ' lei'"></td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="card" style="flex: 1 1 45%;">
            <h3>ğŸ† Top Organizatori (ÃncasÄƒri)</h3>
            <table class="table">
                <thead><tr><th>Nume</th><th>Total</th></tr></thead>
                <tbody>
                <tr th:each="o : ${topOrganizatori}">
                    <td th:text="${o.nume}"></td>
                    <td th:text="${o.total} + ' lei'"></td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="card" style="flex: 1 1 45%;">
            <h3>ğŸ¢ Grad de Ocupare LocaÈ›ii</h3>
            <table class="table">
                <thead><tr><th>LocaÈ›ie</th><th>Procent</th></tr></thead>
                <tbody>
                <tr th:each="g : ${gradOcupare}">
                    <td th:text="${g.nume}"></td>
                    <td th:text="${g.procent}"></td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="card" style="flex: 1 1 45%;">
            <h3>ğŸ¥‡ Cel mai fidel spectator</h3>
            <p style="font-size: 1.2em; font-weight: bold; color: #198754;" th:text="${fidel}">-</p>

            <hr>
            <h4>ğŸ“‹ ListÄƒ control rapidÄƒ (Show + LocaÈ›ie)</h4>
            <ul>
                <li th:each="c : ${checkList}" th:text="${c}"></li>
            </ul>
        </div>
    </div>
</div>
</body>
</html>